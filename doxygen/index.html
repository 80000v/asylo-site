<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asylo: Asylo - An open and flexible framework for enclave applications</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="/_site/favicons/favicon.ico" rel="shortcut icon" type="image/x-icon"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asylo
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Asylo - An open and flexible framework for enclave applications </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Copyright 2018 Asylo authors</p>
<h2>Documentation</h2>
<p>The <code>v0.2</code> documentation can be found at <a href="/_site/docs">asylo.dev</a>.</p>
<p>Example code can be found in the <a href="https://github.com/google/asylo/tree/master/asylo/examples">asylo/examples</a> directory. This directory has a working Bazel workspace and example applications that can be used as the start of your own project.</p>
<h2>Support</h2>
<p>There are several ways of getting support with Asylo:</p>
<ul>
<li>Join the <a href="https://groups.google.com/forum/#!forum/asylo-users">asylo-users</a> mailing list to participate in discussions and get help troubleshooting problems.</li>
<li>Ask questions and find curated answers on <a href="https://stackoverflow.com">StackOverflow</a> using the <a href="https://stackoverflow.com/questions/tagged/asylo">asylo</a> tag.</li>
</ul>
<h2>Build Environment in Docker (Recommended)</h2>
<p>Asylo provides a custom Docker image that contains all required dependencies, as well as Asylo's custom toolchain, which is required for compiling enclave applications for various enclave backends.</p>
<div class="fragment"><div class="line">docker run -it --rm gcr.io/asylo-framework/asylo</div></div><!-- fragment --><p>See the <a href="https://github.com/google/asylo/tree/master/asylo/distrib/Dockerfile">Dockerfile</a> for an in-depth view of what's inside the container image.</p>
<p>See this <a href="https://cloud.google.com/container-registry/docs/pushing-and-pulling#pulling_images_from_the_registry">guide</a> for additional details on how to pull images from Google's Container Registry.</p>
<h3>Examples</h3>
<h4>Running the <code>hello_world</code> example</h4>
<p>To run the <code>hello_world</code> example, first use the following set of commands to grab the <a href="/_site/asylo-examples.tar.gz">examples source code</a>, and save it to any directory of your choice.</p>
<div class="fragment"><div class="line">MY_PROJECT=~/asylo-examples</div><div class="line">mkdir -p &quot;${MY_PROJECT}&quot;</div><div class="line">wget -q -O - https://asylo.dev/asylo-examples.tar.gz | \</div><div class="line">    tar -zxv --directory &quot;${MY_PROJECT}&quot;</div></div><!-- fragment --><p>Next, use Docker to build and run the <code>hello_world</code> application, which uses a simulated enclave backend.</p>
<div class="fragment"><div class="line">NAMES=&quot;${USER}&quot;</div><div class="line">docker run -it --rm \</div><div class="line">    -v bazel-cache:/root/.cache/bazel \</div><div class="line">    -v &quot;${MY_PROJECT}&quot;:/opt/my-project \</div><div class="line">    -w /opt/my-project \</div><div class="line">    gcr.io/asylo-framework/asylo \</div><div class="line">    bazel run --config=enc-sim //hello_world -- --names=&quot;${NAMES}&quot;</div></div><!-- fragment --><p>You can also set <code>NAMES</code> to a comma-separated list of names and see the enclave's entry-point get invoked for each name.</p>
<h5>Docker flags</h5>
<p>In the above example, we use the following Docker flags:</p>
<ul>
<li><code>-it</code> is used to allocate an interactive terminal in which the command is run.</li>
<li><code>--rm</code> is used to automatically delete the temporary container after the command completes so that unnecessary images don't persist on disk.</li>
<li><code>-v</code> is used to map local files to paths inside the container.<ul>
<li>The example project files are mapped to <code>/opt/my-project</code>.</li>
<li>The local Bazel cache is mapped to <code>/root/.cache/bazel</code>, enabling incremental builds between <code>bazel</code> invocations.</li>
</ul>
</li>
<li><code>-w</code> is used to set the working directory in the container so that <code>bazel run</code> command is executed in the example project.</li>
</ul>
<h5>Bazel flags and workspace settings</h5>
<p>In the above example, we use the following Bazel flags:</p>
<ul>
<li><code>--config=enc-sim</code> uses the Asylo toolchain to build the target for the enclave simulation backend.</li>
<li><code>--names="${NAMES}"</code> is the argument passed to the <code>//hello_world</code> target.</li>
</ul>
<p>Note: The example project from <a href="https://github.com/google/asylo/tree/master/asylo/examples">examples/</a> also picks up additional Bazel configuration from the <code>tools/bazel.rc</code> file in that directory. Remember to copy this file to a <code>tools/</code> sub-directory in future Bazel projects you create so that you can make use of Asylo's toolchain configurations.</p>
<h4>Running your own enclave application</h4>
<p>You can follow the <a href="#running-the-hello_world-example">steps above</a> to build your own enclave application instead. You can use the examples code in <code>MY_PROJECT</code> as the start of your own project, or simply change <code>MY_PROJECT</code> to point to your own Bazel project instead.</p>
<h4>Running an interactive terminal</h4>
<p>You can get an interactive terminal (instead of running a single command) by omitting the <code>bazel run ...</code> part of the <code>docker</code> invocation. For instance, to run the <code>hello_world</code> example as above but in an interactive terminal, run:</p>
<div class="fragment"><div class="line">docker run -it --rm \</div><div class="line">    -v bazel-cache:/root/.cache/bazel \</div><div class="line">    -v &quot;${MYPROJECT}&quot;:/opt/my-project \</div><div class="line">    -w /opt/my-project \</div><div class="line">    gcr.io/asylo-framework/asylo</div></div><!-- fragment --><p>This opens a terminal inside the Docker container. From this terminal, you can run Bazel as usual:</p>
<div class="fragment"><div class="line">bazel run --config=enc-sim //hello_world -- --names=&quot;${NAMES}&quot;</div></div><!-- fragment --><h4>Running the regression tests</h4>
<p>To run our regression test suite, first clone the Asylo repository to a directory of your choice.</p>
<div class="fragment"><div class="line">ASYLO_SDK=~/asylo-sdk</div><div class="line">git clone https://github.com/google/asylo.git &quot;${ASYLO_SDK}&quot;</div></div><!-- fragment --><p>The regression test suite includes tests that unit-test code directly as well as tests that run inside a simulated enclave environment. You can run it with the following command:</p>
<div class="fragment"><div class="line">docker run -it --rm \</div><div class="line">    -v &quot;${ASYLO_SDK}:/opt/asylo/sdk&quot; \</div><div class="line">    -v bazel-cache:/root/.cache/bazel \</div><div class="line">    -w &quot;/opt/asylo/sdk&quot; \</div><div class="line">    gcr.io/asylo-framework/asylo \</div><div class="line">    asylo/test/run_enclave_tests.sh</div></div><!-- fragment --><p>See <a href="#docker-flags">Docker flags</a> for a breakdown of the flags used in this command. Note that in this command we also use <code>-v</code> to map the Asylo SDK source files to <code>/opt/asylo/sdk</code>.</p>
<h2>Manual Installation</h2>
<p>If you don't want to use the Asylo Docker image, you can manually install Asylo and its dependencies instead.</p>
<p>See INSTALL.md for detailed installation steps.</p>
<h3>Examples</h3>
<p>The following examples assume that the Asylo SDK was installed at <code>ASYLO_SDK</code>, which can be a directory of your choice. For example:</p>
<h4>Running the <code>hello_world</code> example</h4>
<p>To run the <code>hello_world</code> example, first use the following commands to grab the <a href="/_site/asylo-examples.tar.gz">examples source code</a> and save it to any directory of your choice.</p>
<div class="fragment"><div class="line">MY_PROJECT=~/asylo-examples</div><div class="line">mkdir -p &quot;${MY_PROJECT}&quot;</div><div class="line">wget -q -O - https://asylo.dev/asylo-examples.tar.gz | \</div><div class="line">    tar -zxv --directory &quot;${MY_PROJECT}&quot;</div></div><!-- fragment --><p>Next, use Bazel to build and run the <code>hello_world</code> application, which uses a simulated enclave backend:</p>
<div class="fragment"><div class="line">cd &quot;${MY_PROJECT}&quot;</div><div class="line">NAMES=&quot;${USER}&quot;</div><div class="line">bazel run --config=enc-sim //hello_world -- --names=&quot;${NAMES}&quot;</div></div><!-- fragment --><p>Refer to <a href="#bazel-flags-and-workspace-settings">Bazel flags and workspace settings</a> for an explanation of the flags and workspace configuration used in this example.</p>
<h4>Running your own enclave application</h4>
<p>You can follow the <a href="#running-the-hello_world-example-1">steps above</a> to build your own enclave application instead. You can use the examples code in <code>MY_PROJECT</code> as the start of your own project, or simply change <code>MY_PROJECT</code> to point to your own Bazel project instead.</p>
<h4>Running the regression test suite</h4>
<p>If you haven't already, use the following commands to clone the Asylo source code repository and copy it to a directory of your choice.</p>
<div class="fragment"><div class="line">ASYLO_SDK=~/asylo-sdk</div><div class="line">git clone https://github.com/google/asylo.git &quot;${ASYLO_SDK}&quot;</div></div><!-- fragment --><p>The regression test suite includes tests that unit-test code directly as well as tests that run inside a simulated enclave environment. You can run it with the following command:</p>
<div class="fragment"><div class="line">&quot;${ASYLO_SDK}&quot;/asylo/test/run_enclave_tests.sh</div></div><!-- fragment --><h2>Repository Structure &amp; Status</h2>
<p>This repository contains source code for the Asylo framework. The <code>v0.2</code> release of the framework supports C++11 applications and a Bazel build environment.</p>
<p>The following packages contain source code that may be of particular interest to users of the Asylo framework as well as those looking to contribute to Asylo development.</p>
<ul>
<li>[asylo](asylo)<ul>
<li><a href="https://github.com/google/asylo/tree/master/asylo/crypto">crypto/</a><ul>
<li>Crypto utilities and wrappers around BoringSSL.</li>
</ul>
</li>
<li><a href="https://github.com/google/asylo/tree/master/asylo/distrib">distrib/</a><ul>
<li>Asylo toolchain and dependencies.</li>
</ul>
</li>
<li><a href="https://github.com/google/asylo/tree/master/asylo/examples">examples/</a><ul>
<li>Sample applications written with the Asylo framework.</li>
</ul>
</li>
<li><a href="https://github.com/google/asylo/tree/master/asylo/grpc">grpc/</a><ul>
<li><a href="https://github.com/google/asylo/tree/master/asylo/grpc/auth">auth/</a><ul>
<li>gRPC authentication support.</li>
</ul>
</li>
<li><a href="https://github.com/google/asylo/tree/master/asylo/grpc/util">util/</a><ul>
<li>Utilities for using gRPC from a trusted application.</li>
</ul>
</li>
</ul>
</li>
<li><a href="https://github.com/google/asylo/tree/master/asylo/identity">identity/</a><ul>
<li>Identity and attestation support.</li>
</ul>
</li>
<li><a href="https://github.com/google/asylo/tree/master/asylo/platform">platform/</a><ul>
<li>Implementation of enclave platforms and backends.</li>
</ul>
</li>
<li><a href="https://github.com/google/asylo/tree/master/asylo/test">test/</a><ul>
<li>Testing utilities provided to application writers.</li>
</ul>
</li>
<li><a href="https://github.com/google/asylo/tree/master/asylo/util">util/</a><ul>
<li>Common utilities provided for use both inside and outside an enclave environment.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2>Disclaimer</h2>
<p>This is not an officially supported Google product. </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/>
</body>
</html>
